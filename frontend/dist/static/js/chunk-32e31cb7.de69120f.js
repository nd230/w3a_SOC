(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-32e31cb7"],{"00df":function(e,t,a){"use strict";a("51de")},"333d":function(e,t,a){"use strict";var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[a("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},r=[];a("a9e3");Math.easeInOutQuad=function(e,t,a,l){return e/=l/2,e<1?a/2*e*e+t:(e--,-a/2*(e*(e-2)-1)+t)};var i=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function s(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function o(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function n(e,t,a){var l=o(),r=e-l,n=20,c=0;t="undefined"===typeof t?500:t;var u=function e(){c+=n;var o=Math.easeInOutQuad(c,l,r,t);s(o),c<t?i(e):a&&"function"===typeof a&&a()};u()}var c={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&n(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&n(0,800)}}},u=c,d=(a("f1df"),a("2877")),m=Object(d["a"])(u,l,r,!1,null,"72c6b867",null);t["a"]=m.exports},"51de":function(e,t,a){},8312:function(e,t,a){},abbe:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard-container"},[e.drawerReadStatus?a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:16}},[a("el-form",{staticStyle:{"margin-top":"-15px","margin-bottom":"-16px"},attrs:{inline:!0,size:"small",model:e.readModel,"hide-required-asterisk":""}},[a("el-form-item",[a("el-button",{on:{click:e.drawerReadOpera}},[e._v("返回")])],1),a("el-form-item",[a("el-button",{attrs:{type:"danger",size:"small"},on:{click:e.drawerDelete}},[e._v(" 删除工单")])],1),a("el-form-item",[a("el-dropdown",{on:{command:e.drawerDispose}},[a("el-button",{attrs:{type:"primary",size:"small"}},[e._v(" 工单处置"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"0"}},[e._v("待认领")]),a("el-dropdown-item",{attrs:{command:"1"}},[e._v("解决中")]),a("el-dropdown-item",{attrs:{command:"2"}},[e._v("误报忽略")]),a("el-dropdown-item",{attrs:{command:"3"}},[e._v("已解决")]),a("el-dropdown-item",{attrs:{command:"4"}},[e._v("白名单")])],1)],1)],1),a("el-breadcrumb",{staticStyle:{"margin-top":"5px","margin-bottom":"30px"},attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("漏洞工单")]),a("el-breadcrumb-item",[e._v("基础信息")])],1),a("el-descriptions",{staticStyle:{"margin-top":"-15px","margin-right":"30px","margin-bottom":"20px"},attrs:{direction:"vertical",column:4,border:""}},[a("el-descriptions-item",{attrs:{label:"漏洞编号",labelStyle:"width: 210px"}},[e._v(" "+e._s(e.readModel.vulId))]),a("el-descriptions-item",{attrs:{label:"漏洞名称",labelStyle:"width: 200px"}},[e._v(e._s(e.readModel.vulName))]),a("el-descriptions-item",{attrs:{label:"漏洞级别"}},[0===e.readModel.vulLevel?a("span",[a("el-tag",{attrs:{type:"success",size:"mini"}},[e._v("低危")])],1):e._e(),1===e.readModel.vulLevel?a("span",[a("el-tag",{attrs:{type:"warning",size:"mini"}},[e._v("中危")])],1):e._e(),2===e.readModel.vulLevel?a("span",[a("el-tag",{attrs:{type:"danger",size:"mini"}},[e._v("高危")])],1):e._e()]),a("el-descriptions-item",{attrs:{label:"创建/更新时间"}},[null!=e.readModel.vulUpdateTime?a("span",[e._v(e._s(e.readModel.vulUpdateTime))]):a("span",[e._v(e._s(e.readModel.vulCreateTime))])]),a("el-descriptions-item",{attrs:{label:"漏洞标签"}},[e._l(e.readModel.vulTags,(function(t){return a("el-tag",{key:t.id,attrs:{size:"small"}},[e._v(" "+e._s(t.vulTags)+" ")])})),0==e.readModel.vulSource?a("el-tag",{attrs:{size:"small"}},[e._v("内部")]):e._e(),1==e.readModel.vulSource?a("el-tag",{attrs:{size:"small"}},[e._v("第三方")]):e._e(),0==e.readModel.vulSourceObject?a("el-tag",{attrs:{size:"small"}},[e._v("人工")]):e._e(),1==e.readModel.vulSourceObject?a("el-tag",{attrs:{size:"small"}},[e._v("工具检测")]):e._e(),3==e.readModel.vulSourceObject?a("el-tag",{attrs:{size:"small"}},[e._v("白帽子")]):e._e(),e.readModel.vulSourceObject>1&&e.readModel.vulSourceObject<4?a("el-tag",{attrs:{size:"small"}},[e._v(e._s(e.readModel.vulSourceInfo))]):e._e()],2)],1),a("el-breadcrumb",{staticStyle:{"margin-top":"5px","margin-bottom":"20px"},attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("漏洞工单")]),a("el-breadcrumb-item",[e._v("漏洞细节")])],1),a("el-descriptions",{staticClass:"margin-top",staticStyle:{"margin-right":"30px","margin-bottom":"20px"},attrs:{column:1,border:""}},[a("el-descriptions-item",{attrs:{labelStyle:"width: 90px"}},[a("template",{slot:"label"},[e._v(" 漏洞详情 ")]),a("div",{directives:[{name:"viewer",rawName:"v-viewer"}],domProps:{innerHTML:e._s(e.readModel.vulInfo)}})],2),a("el-descriptions-item",[a("template",{attrs:{contentStyle:"width:200px"},slot:"label"},[e._v(" 解决建议 ")]),a("div",{directives:[{name:"viewer",rawName:"v-viewer"}],domProps:{innerHTML:e._s(e.readModel.vulSuggestion)}})],2),a("el-descriptions-item",[a("template",{slot:"label"},[e._v(" 引用文献 ")]),a("div",{directives:[{name:"viewer",rawName:"v-viewer"}],domProps:{innerHTML:e._s(e.readModel.vulReferer)}})],2)],1)],1)],1),a("el-col",{staticStyle:{"margin-left":"-40px"},attrs:{span:8}},[a("el-breadcrumb",{staticStyle:{"margin-top":"28px","margin-left":"40px","margin-bottom":"30px"},attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("漏洞工单")]),a("el-breadcrumb-item",[e._v("流转清单")])],1),a("div",{staticClass:"block",staticStyle:{"margin-left":"10px","margin-right":"10px","margin-bottom":"20px"}},[a("el-timeline",e._l(e.readModel.vulTimeLines,(function(t,l){return a("el-timeline-item",{key:l,attrs:{timestamp:t.vulCirculationCreateTime,placement:"top"}},[a("el-card",[a("h4",[e._v(e._s(t.vulCirculationCreateTime))]),a("p",[e._v("变更信息: "+e._s(t.vulCirculationInfo))])])],1)})),1)],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.listInsideQuery.total>9,expression:"listInsideQuery.total > 9"}],staticStyle:{"margin-left":"15px","margin-top":"-10px"},attrs:{total:e.listInsideQuery.total,page:e.listInsideQuery.page,limit:e.listInsideQuery.limit},on:{"update:page":function(t){return e.$set(e.listInsideQuery,"page",t)},"update:limit":function(t){return e.$set(e.listInsideQuery,"limit",t)},pagination:e.vulReadTimeLimt}})],1)],1):e._e(),e.drawerReadStatus?e._e():a("el-row",[a("div",{ref:"dashboardContainer"},[a("el-form",{staticStyle:{"margin-top":"-15px","margin-bottom":"-16px"},attrs:{inline:!0,size:"small",model:e.searchService,"hide-required-asterisk":""}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"small"},on:{click:e.drawerCreateOpera}},[e._v(" 新建漏洞工单")])],1),a("el-form-item",[1==e.searchGroup?a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small"},on:{click:e.drawerSearchOpera}},[e._v(" 组合检索")]):e._e()],1),e.searchGroup?e._e():a("el-form-item",[a("el-input",{attrs:{size:"small",placeholder:"请输入漏洞名称"},model:{value:e.searchService.vulName,callback:function(t){e.$set(e.searchService,"vulName",t)},expression:"searchService.vulName"}})],1),e.searchGroup?e._e():a("el-form-item",[a("el-select",{attrs:{size:"small",placeholder:"请选择风险级别"},model:{value:e.searchService.vulLevel,callback:function(t){e.$set(e.searchService,"vulLevel",t)},expression:"searchService.vulLevel"}},[a("el-option",{attrs:{label:"低危",value:"0"}}),a("el-option",{attrs:{label:"中危",value:"1"}}),a("el-option",{attrs:{label:"高危",value:"2"}})],1)],1),a("el-form-item",[e.searchGroup?e._e():a("el-select",{attrs:{size:"small",placeholder:"请选择处置状态"},model:{value:e.searchService.vulDisposeStatus,callback:function(t){e.$set(e.searchService,"vulDisposeStatus",t)},expression:"searchService.vulDisposeStatus"}},[a("el-option",{attrs:{label:"未解决",value:"0"}}),a("el-option",{attrs:{label:"解决中",value:"1"}}),a("el-option",{attrs:{label:"误报忽略",value:"2"}}),a("el-option",{attrs:{label:"已解决",value:"3"}}),a("el-option",{attrs:{label:"白名单",value:"4"}})],1)],1),e.searchGroup?e._e():a("el-form-item",[a("div",{staticClass:"block picker"},[a("el-form-item",[a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd",clearable:!1,size:"small"},model:{value:e.searchService.vulCreateTime,callback:function(t){e.$set(e.searchService,"vulCreateTime",t)},expression:"searchService.vulCreateTime"}})],1)],1)]),e.searchGroup?e._e():a("el-form-item",[a("el-select",{staticStyle:{"margin-left":"-10px"},attrs:{size:"small",placeholder:"请选择来源"},model:{value:e.searchService.vulSource,callback:function(t){e.$set(e.searchService,"vulSource",t)},expression:"searchService.vulSource"}},[a("el-option",{attrs:{label:"内部",value:"0"}}),a("el-option",{attrs:{label:"第三方",value:"1"}})],1)],1),e.searchGroup?e._e():a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-search"},on:{click:e.getList}},[e._v("检索")])],1),a("el-form-item",[a("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-upload2"},on:{click:e.trade}},[e._v("内部工单联动")])],1),a("el-form-item",[a("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-upload2"},on:{click:e.trade}},[e._v("跟众测联动")])],1)],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"headers",staticStyle:{width:"auto","margin-top":"10px"},attrs:{data:e.listDataObject.outSideListData,"element-loading-text":"加载中...",size:"small",border:""}},[a("el-table-column",{attrs:{align:"center",label:"漏洞编号",width:"200%"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.vulId))]}}],null,!1,553977279)}),a("el-table-column",{attrs:{label:"漏洞名称",align:"center",width:"220%"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.vulName)+" ")]}}],null,!1,351103797)}),a("el-table-column",{attrs:{label:"创建时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.vulCreateTime)+" ")]}}],null,!1,2002253699)}),a("el-table-column",{attrs:{label:"解决时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[null==t.row.vulSolveTime?a("span",[e._v("未解决")]):a("span",[e._v(e._s(t.row.vulSolveTime))])]}}],null,!1,371125392)}),a("el-table-column",{attrs:{label:"漏洞级别",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.vulLevel?a("span",[a("el-tag",{attrs:{type:"success",size:"mini"}},[e._v("低危")])],1):e._e(),1==t.row.vulLevel?a("span",[a("el-tag",{attrs:{type:"warning",size:"mini"}},[e._v("中危")])],1):e._e(),2==t.row.vulLevel?a("span",[a("el-tag",{attrs:{type:"danger",size:"mini"}},[e._v("高危")])],1):e._e()]}}],null,!1,2199071934)}),a("el-table-column",{attrs:{label:"漏洞来源",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.vulSource?a("span",[a("el-tag",{attrs:{size:"mini"}},[a("i",{staticClass:"el-icon-user-solid"}),e._v("人工")])],1):e._e(),1==t.row.vulSource?a("span",[a("el-tag",{attrs:{size:"mini"}},[a("i",{staticClass:"el-icon-s-tools"}),e._v("工具检测")])],1):e._e(),2==t.row.vulSource?a("span",[a("el-tag",{attrs:{size:"mini"}},[a("i",{staticClass:"el-icon-coordinate"}),e._v("公司名")])],1):e._e(),3==t.row.vulSource?a("span",[a("el-tag",{attrs:{size:"mini"}},[a("i",{staticClass:"el-icon-user"}),e._v("白帽子")])],1):e._e()]}}],null,!1,1183549788)}),a("el-table-column",{attrs:{label:"处置状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.vulDisposeStatus?a("span",[e._v(" 未解决 ")]):e._e(),1==t.row.vulDisposeStatus?a("span",[e._v(" 解决中 ")]):e._e(),2==t.row.vulDisposeStatus?a("span",[e._v(" 误报/忽略 ")]):e._e(),3==t.row.vulDisposeStatus?a("span",[e._v(" 已解决 ")]):e._e(),4==t.row.vulDisposeStatus?a("span",[e._v(" 白名单 ")]):e._e()]}}],null,!1,4169317457)}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-button",{staticClass:"ml0 mt5",attrs:{size:"mini"},on:{click:function(a){return e.drawerReadOpera(t.row)}}},[e._v("查看")]),a("el-button",{staticClass:"ml0 mt5",attrs:{size:"mini"},on:{click:function(a){return e.drawerChangeOpera(t.row)}}},[e._v("修改")])],1)]}}],null,!1,3065834599)})],1),a("div",{staticClass:"row"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.listQuery.total>10,expression:"listQuery.total > 10"}],staticStyle:{"margin-left":"-20px","margin-top":"-10px"},attrs:{total:e.listQuery.total,page:e.listQuery.page,limit:e.listQuery.limit},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.getList}})],1)],1),a("el-drawer",{attrs:{visible:e.drawerSearchStatus,direction:e.direction,size:e.searchAlterSize,title:"组合检索漏洞工单"},on:{"update:visible":function(t){e.drawerSearchStatus=t}}},[a("div",{staticClass:"demo-drawer__content"},[a("el-form",{ref:"searchService",staticStyle:{"margin-left":"10px"},attrs:{model:e.searchService,inline:!0,"label-width":"90px"}},[a("el-form-item",{attrs:{label:"漏洞名称 :"}},[a("el-input",{attrs:{placeholder:"请输入漏洞名称",size:"small"},model:{value:e.searchService.vulName,callback:function(t){e.$set(e.searchService,"vulName",t)},expression:"searchService.vulName"}})],1),a("el-form-item",{attrs:{label:"漏洞级别 :"}},[a("el-select",{attrs:{size:"small",placeholder:"请选择风险级别"},model:{value:e.searchService.vulLevel,callback:function(t){e.$set(e.searchService,"vulLevel",t)},expression:"searchService.vulLevel"}},[a("el-option",{attrs:{label:"低危",value:"0"}}),a("el-option",{attrs:{label:"中危",value:"1"}}),a("el-option",{attrs:{label:"高危",value:"2"}})],1)],1),a("el-form-item",{attrs:{label:"漏洞来源 :"}},[a("el-select",{attrs:{size:"small",placeholder:"请选择来源"},model:{value:e.searchService.vulSource,callback:function(t){e.$set(e.searchService,"vulSource",t)},expression:"searchService.vulSource"}},[a("el-option",{attrs:{label:"内部",value:"0"}}),a("el-option",{attrs:{label:"第三方",value:"1"}})],1)],1),a("el-form-item",{attrs:{label:"处置状态 :"}},[a("el-select",{attrs:{size:"small",placeholder:"请选择处置状态"},model:{value:e.searchService.vulDisposeStatus,callback:function(t){e.$set(e.searchService,"vulDisposeStatus",t)},expression:"searchService.vulDisposeStatus"}},[a("el-option",{attrs:{label:"待认领",value:"0"}}),a("el-option",{attrs:{label:"解决中",value:"1"}}),a("el-option",{attrs:{label:"误报忽略",value:"2"}}),a("el-option",{attrs:{label:"已解决",value:"3"}}),a("el-option",{attrs:{label:"白名单",value:"4"}})],1)],1),a("el-form-item",[a("div",{staticClass:"block picker"},[a("el-form-item",{attrs:{label:"日期范围 :"}},[a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd",clearable:!1,size:"small"},model:{value:e.searchService.vulCreateTime,callback:function(t){e.$set(e.searchService,"vulCreateTime",t)},expression:"searchService.vulCreateTime"}})],1)],1)])],1),a("div",{staticClass:"demo-drawer__footer"},[a("el-button",{attrs:{size:"small"},on:{click:e.drawerSearchOpera}},[e._v(" 返回")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.getList}},[e._v(" 检索")])],1)],1)]),a("el-drawer",{attrs:{visible:e.drawerCreateStatus,direction:e.direction,size:e.newAlterSize,wrapperClosable:!1,title:"新建漏洞工单"},on:{"update:visible":function(t){e.drawerCreateStatus=t}}},[a("div",{staticClass:"demo-drawer__content"},[a("el-form",{ref:"createModel",staticStyle:{"margin-left":"10px"},attrs:{model:e.createModel,inline:!0,"label-width":"90px"}},[a("el-form-item",{attrs:{label:"漏洞名称 :"}},[a("el-input",{attrs:{placeholder:"请输入漏洞名称",size:"small"},model:{value:e.createModel.vulName,callback:function(t){e.$set(e.createModel,"vulName",t)},expression:"createModel.vulName"}})],1),a("el-form-item",{attrs:{label:"漏洞级别 :"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{size:"small",placeholder:"请选择风险级别"},model:{value:e.createModel.vulLevel,callback:function(t){e.$set(e.createModel,"vulLevel",t)},expression:"createModel.vulLevel"}},e._l(e.selectOptions.vulsLevelLists,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"漏洞来源 :"}},[a("el-select",{staticStyle:{width:"172px"},attrs:{size:"small",placeholder:"请选择来源对象"},model:{value:e.createModel.vulSourceObject,callback:function(t){e.$set(e.createModel,"vulSourceObject",t)},expression:"createModel.vulSourceObject"}},[a("el-option",{attrs:{label:"人工",value:"0"}}),a("el-option",{attrs:{label:"工具检测",value:"1"}}),a("el-option",{attrs:{label:"白帽子",value:"3"}})],1)],1),a("el-form-item",{attrs:{label:"漏洞特征 :"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{multiple:"","allow-create":"",filterable:"","default-first-option":"","reserve-keyword":"",remote:"","remote-method":e.vulTagSearch,size:"small",placeholder:"请选择/输入标签"},model:{value:e.createModel.vulTags,callback:function(t){e.$set(e.createModel,"vulTags",t)},expression:"createModel.vulTags"}},e._l(e.createModel.vulOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),3==e.createModel.vulSourceObject?a("el-form-item",{attrs:{label:"白帽子名 :"}},[a("el-input",{attrs:{placeholder:"请输入白帽子名称",size:"small"},model:{value:e.createModel.vulSourceInfo,callback:function(t){e.$set(e.createModel,"vulSourceInfo",t)},expression:"createModel.vulSourceInfo"}})],1):e._e(),a("el-form-item",{attrs:{label:"漏洞信息 :"}},[a("mavon-editor",{ref:"md1",staticStyle:{"min-height":"400px","min-width":"800px"},attrs:{boxShadow:!1,codeStyle:"”monokai-sublime“",placeholder:"输入漏洞的信息，越具体越好，方便业务方复现，加快漏洞修复...",toolbars:e.markdownOption,autofocus:!1},on:{imgAdd:e.imgUpLoad1},model:{value:e.createModel.vulInfo,callback:function(t){e.$set(e.createModel,"vulInfo",t)},expression:"createModel.vulInfo"}})],1),a("el-form-item",{attrs:{label:"解决建议 :"}},[a("mavon-editor",{ref:"md2",staticStyle:{"min-height":"400px","min-width":"800px"},attrs:{boxShadow:!1,codeStyle:"”monokai-sublime“",placeholder:"根据漏洞，您根据业务，给的建议解决方案是?",toolbars:e.markdownOption,autofocus:!1},on:{imgAdd:e.imgUpLoad2},model:{value:e.createModel.vulSuggestion,callback:function(t){e.$set(e.createModel,"vulSuggestion",t)},expression:"createModel.vulSuggestion"}})],1),a("el-form-item",{attrs:{label:"引用参考 :"}},[a("mavon-editor",{ref:"md3",staticStyle:{"min-height":"400px","min-width":"800px"},attrs:{boxShadow:!1,codeStyle:"”monokai-sublime“",placeholder:"这个漏洞有哪些可以被参考的材料，让研发有个了解，后续可以避免同类问题再产出。",toolbars:e.markdownOption,autofocus:!1},on:{imgAdd:e.imgUpLoad3},model:{value:e.createModel.vulReferer,callback:function(t){e.$set(e.createModel,"vulReferer",t)},expression:"createModel.vulReferer"}})],1)],1),a("div",{staticClass:"demo-drawer__footer"},[a("el-button",{attrs:{size:"small"},on:{click:e.drawerCreateOpera}},[e._v(" 返回")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.drawerCreate}},[e._v(" 新建漏洞工单")])],1)],1)]),a("el-drawer",{attrs:{visible:e.drawerChangeStatus,direction:e.direction,size:e.newAlterSize,wrapperClosable:!1,title:"修改漏洞工单"},on:{"update:visible":function(t){e.drawerChangeStatus=t}}},[a("div",{staticClass:"demo-drawer__content"},[a("el-form",{ref:"changeModel",staticStyle:{"margin-left":"10px"},attrs:{model:e.changeModel,inline:!0,"label-width":"90px"}},[a("el-form-item",{attrs:{label:"漏洞名称 :"}},[a("el-input",{attrs:{placeholder:"请输入漏洞名称",size:"small"},model:{value:e.changeModel.vulName,callback:function(t){e.$set(e.changeModel,"vulName",t)},expression:"changeModel.vulName"}})],1),a("el-form-item",{attrs:{label:"漏洞级别 :"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{size:"small","reserve-keyword":!0,placeholder:"请选择风险级别"},model:{value:e.changeModel.vulLevel,callback:function(t){e.$set(e.changeModel,"vulLevel",t)},expression:"changeModel.vulLevel"}},e._l(e.selectOptions.vulsLevelLists,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"漏洞来源 :"}},[a("el-select",{staticStyle:{width:"172px"},attrs:{size:"small",placeholder:"请选择来源对象"},model:{value:e.changeModel.vulSourceObject,callback:function(t){e.$set(e.changeModel,"vulSourceObject",t)},expression:"changeModel.vulSourceObject"}},e._l(e.selectOptions.vulsSourceObjectLists,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"漏洞特征 :"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{multiple:"","allow-create":"",filterable:"","default-first-option":"","reserve-keyword":"",remote:"","remote-method":e.vulTagSearch,size:"small",placeholder:"请选择/输入标签"},model:{value:e.changeModel.vulTags,callback:function(t){e.$set(e.changeModel,"vulTags",t)},expression:"changeModel.vulTags"}},e._l(e.selectOptions.vulOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),3==e.changeModel.vulSourceObject?a("el-form-item",{attrs:{label:"白帽子名 :"}},[a("el-input",{attrs:{placeholder:"请输入白帽子名称",size:"small"},model:{value:e.changeModel.vulSourceInfo,callback:function(t){e.$set(e.changeModel,"vulSourceInfo",t)},expression:"changeModel.vulSourceInfo"}})],1):e._e(),a("el-form-item",{attrs:{label:"漏洞信息 :"}},[a("mavon-editor",{ref:"md1",staticStyle:{"min-height":"400px","min-width":"800px"},attrs:{boxShadow:!1,codeStyle:"”monokai-sublime“",placeholder:"输入漏洞的信息，越具体越好，方便业务方复现，加快漏洞修复...",toolbars:e.markdownOption,autofocus:!1},on:{imgAdd:e.imgUpLoad1},model:{value:e.changeModel.vulInfo,callback:function(t){e.$set(e.changeModel,"vulInfo",t)},expression:"changeModel.vulInfo"}})],1),a("el-form-item",{attrs:{label:"解决建议 :"}},[a("mavon-editor",{ref:"md2",staticStyle:{"min-height":"400px","min-width":"800px"},attrs:{boxShadow:!1,codeStyle:"”monokai-sublime“",placeholder:"根据漏洞，您根据业务，给的建议解决方案是?",toolbars:e.markdownOption,autofocus:!1},on:{imgAdd:e.imgUpLoad2},model:{value:e.changeModel.vulSuggestion,callback:function(t){e.$set(e.changeModel,"vulSuggestion",t)},expression:"changeModel.vulSuggestion"}})],1),a("el-form-item",{attrs:{label:"引用参考 :"}},[a("mavon-editor",{ref:"md3",staticStyle:{"min-height":"400px","min-width":"800px"},attrs:{boxShadow:!1,codeStyle:"”monokai-sublime“",placeholder:"这个漏洞有哪些可以被参考的材料，让研发有个了解，后续可以避免同类问题再产出。",toolbars:e.markdownOption,autofocus:!1},on:{imgAdd:e.imgUpLoad3},model:{value:e.changeModel.vulReferer,callback:function(t){e.$set(e.changeModel,"vulReferer",t)},expression:"changeModel.vulReferer"}})],1)],1),a("div",{staticClass:"demo-drawer__footer"},[a("el-button",{attrs:{size:"small"},on:{click:e.drawerChangeOpera}},[e._v(" 返回")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.drawerChange}},[e._v(" 修改工单")])],1)],1)])],1)},r=[],i=a("53ca"),s=(a("a15b"),a("e9c4"),a("b64b"),a("333d")),o=a("b775"),n=a("4328"),c=a.n(n);function u(e){return o["a"].post("/vuls/lists",c.a.stringify(e))}function d(e){return o["a"].post("/vuls/add",c.a.stringify(e))}function m(e){return o["a"].post("/vuls/change",c.a.stringify(e))}function v(e){return o["a"].post("/vuls/read",c.a.stringify(e))}function p(e){return o["a"].post("/vuls/delete",c.a.stringify(e))}function h(e){return o["a"].post("/vuls/dispose",c.a.stringify(e))}function g(e){return o["a"].post("/vuls/tags",c.a.stringify(e))}function f(e){return o["a"].post("/vuls/timeline",c.a.stringify(e))}function b(e){return o["a"].post("/cos/uploadimg",e)}var S=a("d4cd"),w=new S,y={name:"",components:{Pagination:s["a"]},props:{},data:function(){return{searchGroup:!1,drawerSearchStatus:!1,listLoading:!1,drawerReadStatus:!1,drawerCreateStatus:!1,drawerChangeStatus:!1,newAlterSize:"51%",searchAlterSize:"33%",searchService:{},listQuery:{page:1,limit:10,total:0},listInsideQuery:{page:1,limit:5,total:0},listDataObject:{outSideListData:[]},markdownOption:{bold:!0,italic:!0,underline:!0,strikethrough:!0,quote:!0,code:!0,imagelink:!0,fullscreen:!0,link:!0,trash:!0,subfield:!0},createModel:{vulOptions:[]},changeModel:{},readModel:{},direction:"rtl",selectOptions:{vulsLevelLists:[{label:"低危",value:0},{label:"中危",value:1},{label:"高危",value:2}],vulsSourceObjectLists:[{label:"人工",value:0},{label:"工具检测",value:1},{label:"白帽子",value:3}],vulOptions:[]}}},computed:{},watch:{},created:function(){},mounted:function(){this.getList();var e=this.$refs.dashboardContainer,t=a("eec4"),l=t({strategy:"scroll"});l.listenTo(e,this.checkDv)},methods:{drawerReadOpera:function(e){this.drawerReadStatus?this.drawerReadStatus=!1:this.vulReadObj(e.id)},vulReadObj:function(e){var t=this;v({Id:e}).then((function(a){1===a.status&&(t.readModel=a.data,t.readModel.vulInfo=w.render(t.readModel.vulInfo),t.readModel.vulReferer=w.render(t.readModel.vulReferer),t.readModel.vulSuggestion=w.render(t.readModel.vulSuggestion),t.vulReadTimeLimt(e))}))},vulReadTimeLimt:function(e){var t=this;this.listInsideQuery["Id"]=e,this.listInsideQuery.pageSize=this.listInsideQuery.limit,f(this.listInsideQuery).then((function(e){1===e.status&&(t.readModel.vulTimeLines=e.data.list,t.listInsideQuery.total=e.data.total,t.listInsideQuery.page=e.data.page,t.drawerReadStatus=!0)}))},drawerDispose:function(e){var t=this;h({Id:this.readModel.id,job:e}).then((function(e){1===e.status&&(t.$message.success("漏洞操作成功!"),t.vulReadObj(t.readModel.id))}))},imgUpLoad1:function(e,t){var a=this,l=new FormData;l.append("file",t),b(l).then((function(t){1===t.status&&a.$refs.md1.$img2Url(e,t.data+"?imageMogr2/thumbnail/!48p")}))},imgUpLoad2:function(e,t){var a=this,l=new FormData;l.append("file",t),b(l).then((function(t){1===t.status&&a.$refs.md2.$img2Url(e,t.data+"?imageMogr2/thumbnail/!48p")}))},imgUpLoad3:function(e,t){var a=this,l=new FormData;l.append("file",t),b(l).then((function(t){1===t.status&&a.$refs.md3.$img2Url(e,t.data+"?imageMogr2/thumbnail/!48p")}))},vulTagSearch:function(e){var t=this;g({tagName:e}).then((function(e){1===e.status&&(t.createModel.vulOptions=e.data)}))},trade:function(){this.$message.info("请联系微信:13825687872")},drawerSearchOpera:function(){this.drawerSearchStatus?this.drawerSearchStatus=!1:this.drawerSearchStatus=!0},drawerCreateOpera:function(){var e=this;g().then((function(t){1===t.status&&(e.createModel.vulOptions=t.data)})),this.drawerCreateStatus?this.drawerCreateStatus=!1:this.drawerCreateStatus=!0},drawerChangeOpera:function(e){var t=this;this.drawerChangeStatus?this.drawerChangeStatus=!1:(g().then((function(e){1===e.status&&(t.changeModel.vulOptions=e.data)})),v({Id:e.id}).then((function(e){if(1===e.status){t.drawerChangeStatus=!0,t.changeModel=e.data;for(var a=[],l=0;l<t.changeModel.vulTags.length;l++)a.push(t.changeModel.vulTags[l].vulTags);t.changeModel.vulTags=a}})),this.drawerChangeStatus=!0)},drawerCreate:function(){var e=this;delete this.createModel["vulOptions"],void 0!=this.createModel.vulTags&&(this.createModel.vulTags=this.createModel.vulTags.join(",")),d(this.createModel).then((function(t){1===t.status?(e.$message.success(t.msg),e.getList(),e.drawerCreateOpera()):e.$message.error(t.msg)}))},drawerChange:function(){var e=this;delete this.changeModel["vulOptions"],void 0!=this.changeModel.vulTags&&(this.changeModel.vulTags=this.changeModel.vulTags.join(",")),m(this.changeModel).then((function(t){1===t.status&&(e.$message.success(t.msg),e.getList(),e.drawerChangeOpera())}))},drawerDelete:function(){var e=this,t=void 0;t=this.drawerReadStatus?this.readModel.id:this.changeModel.id,this.$confirm("确定要删除漏洞吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){p({Id:t}).then((function(t){1===t.status&&(e.drawerReadStatus?e.drawerReadStatus=!1:e.drawerChangeOpera(),e.$message.success(t.msg),e.getList())}))})).catch((function(){}))},checkDv:function(){var e=document.body.clientWidth;e>1619?(this.newAlterSize="39%",this.searchAlterSize="39%",this.searchGroup=!1):this.searchGroup=!0},getList:function(){var e=this;this.listLoading=!0;var t={page:this.listQuery.page,pageSize:this.listQuery.limit};if("object"==Object(i["a"])(this.searchService)&&"{}"!=JSON.stringify(this.searchService)){void 0!=this.searchService.vulCreateTime&&(this.searchService.vulStartTIme=this.searchService.vulCreateTime[0],this.searchService.vulEndTime=this.searchService.vulCreateTime[1]);for(var a=Object.keys(this.searchService),l=0;l<a.length;l++)t[a[l]]=this.searchService[a[l]]}u(t).then((function(t){e.listLoading=!1,1===t.status?(e.listDataObject.outSideListData=t.data.list,e.listQuery.page=t.data.page,e.listQuery.limit=t.data.pageSize,e.listQuery.total=t.data.total):e.$message.error(t.msg)}))},editSureBtn:function(){var e=this;changeStatus({userId:this.userId}).then((function(t){e.listLoading=!1,1===t.status?(e.$message.success(t.msg),e.editUserPop=!1,e.getUserList()):(e.$message.error(t.msg),e.getUserList())}))}}},_=y,M=(a("00df"),a("e7bc"),a("2877")),k=Object(M["a"])(_,l,r,!1,null,"498e19f3",null);t["default"]=k.exports},adf8:function(e,t,a){},b775:function(e,t,a){"use strict";a("d3b7");var l=a("bc3a"),r=a.n(l),i=a("5c96"),s=r.a.create({baseURL:"/prod-api",timeout:5e3});s.interceptors.request.use((function(e){return e.headers["token"]=localStorage.getItem("token"),e.headers["website"]=localStorage.getItem("websiteDomain"),e.headers["roles"]=localStorage.getItem("roles"),e}),(function(e){return Promise.reject(e)})),s.interceptors.response.use((function(e){var t=e.data;return t}),(function(e){return Object(i["Notification"])({message:e.message,title:"错误",type:"error"}),Promise.reject(e)})),t["a"]=s},e7bc:function(e,t,a){"use strict";a("adf8")},f1df:function(e,t,a){"use strict";a("8312")}}]);